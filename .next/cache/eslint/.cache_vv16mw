[{"/Users/in-mac/Documents/github/nextjs-birthday-wish/pages/[...name].js":"1","/Users/in-mac/Documents/github/nextjs-birthday-wish/pages/_app.js":"2","/Users/in-mac/Documents/github/nextjs-birthday-wish/pages/index.js":"3","/Users/in-mac/Documents/github/nextjs-birthday-wish/components/Button.js":"4","/Users/in-mac/Documents/github/nextjs-birthday-wish/components/CopyLinkButton.js":"5","/Users/in-mac/Documents/github/nextjs-birthday-wish/components/index.js":"6"},{"size":4400,"mtime":1687745191838,"results":"7","hashOfConfig":"8"},{"size":429,"mtime":1687743305586,"results":"9","hashOfConfig":"8"},{"size":2440,"mtime":1688328224606,"results":"10","hashOfConfig":"8"},{"size":303,"mtime":1687743305579,"results":"11","hashOfConfig":"8"},{"size":896,"mtime":1687745291664,"results":"12","hashOfConfig":"8"},{"size":60,"mtime":1687743305580,"results":"13","hashOfConfig":"8"},{"filePath":"14","messages":"15","errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"16"},"bna60t",{"filePath":"17","messages":"18","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"19","messages":"20","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"21","messages":"22","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"23","messages":"24","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"25","messages":"26","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"/Users/in-mac/Documents/github/nextjs-birthday-wish/pages/[...name].js",["27","28"],"import React, { useState, useEffect, useRef } from \"react\";\nimport Head from \"next/head\";\nimport styles from \"../styles/Name.module.css\";\nimport { useRouter } from \"next/router\";\nimport ConfettiGenerator from \"confetti-js\";\nimport messages from \"../utils/birthdayWishes.js\";\nimport useTheme from \"../hooks/useTheme\";\nimport * as htmlToImage from \"html-to-image\";\nimport FileSaver from \"file-saver\";\nimport { Button, CopyLinkButton } from \"../components\";\n\nconst Wish = ({ history }) => {\n\tconst router = useRouter();\n\tconst { name } = router.query; // gets both name & color id in form of array [name,colorId]\n\tconst color = name ? name[1] : 0; //extracting colorId from name\n\tconst [downloading, setDownloading] = useState(false);\n\tconst [downloadedOnce, setDownloadedOnce] = useState(false);\n\tconst audioRef = useRef();\n\n\tconst { setTheme } = useTheme();\n\n\tuseEffect(() => {\n\t\t// Theme Change\n\t\tsetTheme(color);\n\n\t\tif (downloading === false) {\n\t\t\t// Confetti\n\t\t\tconst confettiSettings = {\n\t\t\t\ttarget: \"canvas\",\n\t\t\t\tstart_from_edge: true,\n\t\t\t};\n\t\t\tconst confetti = new ConfettiGenerator(confettiSettings);\n\t\t\tconfetti.render();\n\t\t\taudioRef.current.play();\n\t\t}\n\t}, [color, downloading]);\n\n\tuseEffect(() => {\n\t\tif (downloading === true && downloadedOnce === false) {\n\t\t\tdownloadImage();\n\t\t}\n\t}, [downloading, downloadedOnce]);\n\n\t// function for randomly picking the message from messages array\n\tconst randomNumber = (min, max) => {\n\t\treturn Math.floor(Math.random() * (max - min)) + min;\n\t};\n\n\tconst downloadImage = () => {\n\t\tif (downloadedOnce === true) return;\n\n\t\tconst node = document.getElementById(\"image\");\n\n\t\tif (node) {\n\t\t\tsetDownloadedOnce(true);\n\n\t\t\thtmlToImage.toPng(node).then((blob) => {\n\t\t\t\tFileSaver.saveAs(blob, \"birthday-wish.png\");\n\t\t\t\tsetDownloading(false);\n\t\t\t});\n\t\t}\n\t};\n\n\tconst title = (name) => {\n\t\tconst wish = \"Төрсөн Өдрийн Мэнд \" + name + \"!\";\n\t\tconst base_letters = [];\n\t\tconst name_letters = [];\n\n\t\tfor (let i = 0; i < wish.length; i++) {\n\t\t\tif (i < 19) {\n\t\t\t\tconst letter = wish.charAt(i);\n\t\t\t\tbase_letters.push(\n\t\t\t\t\t<span key={i} style={{ \"--i\": i + 1 }}>\n\t\t\t\t\t\t{letter}\n\t\t\t\t\t</span>\n\t\t\t\t);\n\t\t\t} else {\n\t\t\t\tconst letter = wish.charAt(i);\n\t\t\t\tname_letters.push(\n\t\t\t\t\t<span key={i} style={{ \"--i\": i + 1 }} className={styles.span}>\n\t\t\t\t\t\t{letter}\n\t\t\t\t\t</span>\n\t\t\t\t);\n\t\t\t}\n\t\t}\n\n\t\treturn (\n\t\t\t<>\n\t\t\t\t{downloading ? (\n\t\t\t\t\t<h1\n\t\t\t\t\t\tclassName={styles.titleImg}\n\t\t\t\t\t\tstyle={{ \"--wish-length\": wish.length }}\n\t\t\t\t\t>\n\t\t\t\t\t\t<div>{base_letters.map((letter) => letter)}</div>\n\t\t\t\t\t\t<div>{name_letters.map((letter) => letter)}</div>\n\t\t\t\t\t</h1>\n\t\t\t\t) : (\n\t\t\t\t\t<h1 className={styles.title} style={{ \"--wish-length\": wish.length }}>\n\t\t\t\t\t\t<div>{base_letters.map((letter) => letter)}</div>\n\t\t\t\t\t\t<div>{name_letters.map((letter) => letter)}</div>\n\t\t\t\t\t</h1>\n\t\t\t\t)}\n\t\t\t</>\n\t\t);\n\t};\n\n\tif (downloading) {\n\t\treturn (\n\t\t\t<div className={styles.containerImg} id=\"image\" onClick={downloadImage}>\n\t\t\t\t{downloadImage()}\n\t\t\t\t<main className={styles.image}>\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<div className={styles.main}>{title(name && name[0])}</div>\n\n\t\t\t\t\t\t<div style={{ height: 40 }} />\n\n\t\t\t\t\t\t<p className={styles.descImg}>\n\t\t\t\t\t\t\t{messages[randomNumber(0, messages.length)].value}\n\t\t\t\t\t\t</p>\n\t\t\t\t\t</div>\n\t\t\t\t</main>\n\t\t\t</div>\n\t\t);\n\t}\n\n\treturn (\n\t\t<div className={styles.container}>\n\t\t\t<Head>\n\t\t\t\t<title>Төрсөн өдрийн мэнд хүргэе {name && name[0]}</title>\n\t\t\t\t<meta\n\t\t\t\t\tname=\"Тайлбар\"\n\t\t\t\t\tcontent={`Гэнэтийн бэлэг!`}\n\t\t\t\t/>\n\t\t\t\t<link rel=\"icon\" href=\"/favicon.ico\" />\n\t\t\t</Head>\n\n\t\t\t<canvas className={styles.canvas} id=\"canvas\"></canvas>\n\n\t\t\t<main className={styles.animate}>\n\t\t\t\t<div>\n\t\t\t\t\t<div className={styles.main}>{title(name && name[0])}</div>\n\t\t\t\t\t<p className={styles.desc}>\n\t\t\t\t\t\t{messages[randomNumber(0, messages.length)].value}\n\t\t\t\t\t</p>\n\t\t\t\t</div>\n\n\t\t\t\t<div className={styles.buttonContainer}>\n\t\t\t\t\t{history[0] == \"/\" ? <CopyLinkButton /> : \"\"}\n\n\t\t\t\t\t{history[0] == \"/\" ? (\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\tsetDownloadedOnce(false);\n\t\t\t\t\t\t\t\tsetDownloading(true);\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\ttext=\"Зурагаар татах\"\n\t\t\t\t\t\t/>\n\t\t\t\t\t) : (\n\t\t\t\t\t\t\"\"\n\t\t\t\t\t)}\n\n\t\t\t\t\t<Button\n\t\t\t\t\t\tonClick={() => router.push(\"/\")}\n\t\t\t\t\t\ttext=\"&larr; Мэндчилгээ бэлдэх\"\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t</main>\n\t\t\t<audio ref={audioRef} id=\"player\" autoPlay>\n\t\t\t\t<source src=\"media/hbd.mp3\" />\n\t\t\t</audio>\n\t\t</div>\n\t);\n};\n\nexport default Wish;\n","/Users/in-mac/Documents/github/nextjs-birthday-wish/pages/_app.js",[],"/Users/in-mac/Documents/github/nextjs-birthday-wish/pages/index.js",[],"/Users/in-mac/Documents/github/nextjs-birthday-wish/components/Button.js",[],"/Users/in-mac/Documents/github/nextjs-birthday-wish/components/CopyLinkButton.js",[],"/Users/in-mac/Documents/github/nextjs-birthday-wish/components/index.js",[],{"ruleId":"29","severity":1,"message":"30","line":36,"column":5,"nodeType":"31","endLine":36,"endColumn":25,"suggestions":"32"},{"ruleId":"29","severity":1,"message":"33","line":42,"column":5,"nodeType":"31","endLine":42,"endColumn":34,"suggestions":"34"},"react-hooks/exhaustive-deps","React Hook useEffect has a missing dependency: 'setTheme'. Either include it or remove the dependency array.","ArrayExpression",["35"],"React Hook useEffect has a missing dependency: 'downloadImage'. Either include it or remove the dependency array.",["36"],{"desc":"37","fix":"38"},{"desc":"39","fix":"40"},"Update the dependencies array to be: [color, downloading, setTheme]",{"range":"41","text":"42"},"Update the dependencies array to be: [downloading, downloadedOnce, downloadImage]",{"range":"43","text":"44"},[1165,1185],"[color, downloading, setTheme]",[1294,1323],"[downloading, downloadedOnce, downloadImage]"]